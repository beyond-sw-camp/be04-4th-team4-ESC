# ESC (English Study Club) 

### 로고
  ![Group 63](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/33f78c72-f09c-435d-a057-e756ffa259c8)

---

### 팀명: HighFives(Team HighFives)
### 팀원

- 팀원 : **백동현**
[<img src="https://img.shields.io/badge/Github-Link-181717?logo=Github">](https://github.com/dongh810)

- 팀원 : **이예원**
[<img src="https://img.shields.io/badge/Github-Link-181717?logo=Github">]

- 팀원 : **박고은**
[<img src="https://img.shields.io/badge/Github-Link-181717?logo=Github">]

- 팀원 : **정우진**
[<img src="https://img.shields.io/badge/Github-Link-181717?logo=Github">]

- 팀원 : **정태원**
[<img src="https://img.shields.io/badge/Github-Link-181717?logo=Github">](https://github.com/t4e1)

---

# 1. 프로젝트 개요
|영어의 영향력|취업시장에서의 필요성|
|---|---|
| ![1b6120e63ede4fa8c512961ace77c03f](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/7c67397e-0f68-4bb1-b688-0d59c3c8c8a2) |![34055_22894_2547](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/a8493f15-64d7-48db-ae7c-35cfeb552450)|

2024년 현재 영어는 앞으로 살아감에 있어서 빠질수가 없는, 필수로 익혀야 하는 언어로 자리 잡았다. 취업을 위한 스펙으로 영어 자격증이나 영어 회화능력은 더이상 특별한것이 아닌 기본적인 것으로 자리잡았고, 외국에 나가서 소통을 하거나, 개발공부를 위해 구글링을 할때에도 영어로 되어있는 자료들이 많아 영어의 필요성은 굉장히 높아졌다. 

ESC(English Study Club) 프로젝트는 영어의 필요성을 깨닫고, 혼자 영어 공부할 때 집중력을 유지하기 어렵다고 느끼거나 그룹스터디를 하고싶은 사람들을 위해서 만들어졌다. 영어자격증 시험을 목표로 스터디원을 모으고 사용자들이 서로의 시간을 공유하여 함께 공부할 수 있는 최적의 시간을 찾아줌으로써 스터디 시간을 효율적으로 활용할 수 있도록 도와줄 것이다.

# 2. 프로젝트 관리 

 ESC 프로젝트의 산출 결과물은 다음과 같습니다.
- **요구사항 명세서** : 프로젝트의 요구사항을 정리하여 기능별로 분류해 둔 문서
- **데이터베이스 모델링** : 프로젝트에 사용된 DB의 논리/물리 모델링 이미지
- **Context Map** : DDD 방식 프로젝트 설계에 사용한 Conetext Map 이미지    
- **시스템 아키텍쳐** : 프로젝트의 전체 시스템 아키텍쳐 이미지
- **Devops 빌드/배포문서** :  CICD 구성을 위한 빌드 및 배포 방식을 설명하는 문서   
- **테스트 결과** : 테스트 실행 결과 이미지  

## 추진 계획
| 구분 | 조직 | 주요 역할 |
| --- | --- | --- |
| 주관 | HighFives (Team HighFives) | CICD 프로젝트 |
| 지원기관 | 한화시스템x엔코아 | 장비 지원 및 퀄리티 점검 |

**프로젝트 일정** : 2024-04-01 ~ 2024-04-17

**작업 공간** : 서울 동작구 보라매로 SFC빌딩, 원격 소통

**기술 스택**   
|Vue 3.0|JavaScript|Spring Boot|Spring Data JPA|Docker|Kubernetes|Jenkins|Prometheus|Grafana|
|---|---|---|---|---|---|---|---|---|
|<img src="https://github.com/beyond-sw-camp/be04-3rd-TeamPhoenix-ahub/blob/feature-post-check/img/Vue.png" height="60" />|<img src="https://github.com/beyond-sw-camp/be04-3rd-TeamPhoenix-ahub/blob/feature-post-check/img/js.png" height="80" />|![icons8-봄-로고-48](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/434f3918-640f-4cef-8050-43ca415d6d4c)|![다운로드__1_-removebg-preview](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/82d8f3e5-9b6d-481b-92e3-0ff4a691b01b)|![icons8-부두-노동자-96](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/547c5002-b2bb-49b7-afc8-f083846a0769)|![icons8-쿠버네티스-96](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/08d3f8ed-6755-4e79-aba2-8680a63dfa52)|![icons8-젠킨스-96](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/50215ec0-8598-4f6c-869a-2e795d69950f)|![icons8-프로메테우스-앱-96](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/b146f025-eed4-4af1-9db8-101cad3f78b6)|![icons8-그라파나-48](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/8afb44c6-75e1-4ca5-8072-2686600fdec9)|


## 주요기능
- 스터디 클럽 생성 후 스터디원 모집
- 채팅을 사용하여 모집하는 스터디에 대해 궁금증 해소 가능
- 개인 일정 등록과 스터디 일정 등록
- 스터디 후 개인 스터디로그 작성

## 새롭게 도입한 기술
- FullCalendar: 일정 관리 (FullCalendar API)
- Weebsocket: 회원 간 채팅 기능 구현 (spring-boot-starter-websocket,  Vanilla Javascript Websocket)  
- Crawling: 토익, 오픽 등 실제 시험일정 조회 (JSoup)
- SMTP(Simple Mail Transfer Protocol): 이메일 인증을 통한 회원관리
- Jasypt: 설정 파일 암호화 (Jasypt)
- Monitoring: Prometheus, Grafana를 사용한 백엔드 모니터링
---

## 2-1. 요구사항 명세서



## 2-2. DB 모델링(논리)

![KakaoTalk_20240417_123220669](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/e5f6fcfe-e910-4634-8862-d90b2d36bc53)

## 2-3. Context Map 

![image](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/5b5bf0b4-8d35-43fb-8578-b10a57bf3f2d)

## 2-5. 시스템 아키텍쳐

![KakaoTalk_20240417_120445057](https://github.com/dongh810/ESC-English_Study_Club-develop/assets/105986200/1f8dcd6c-e925-4126-b637-ea91f1577b7f)

- **Jenkins** <br>
테스트 코드 실행, Docker Image 빌드, Dockerhub 업로드 

- **Dockerhub** <br>
Jenkins가 생성한 최신화된 Docker image 저장 

- **Kubernetes** <br>
Dockerhub의 이미지를 사용, Spring boot & Prometheus의 컨테이너와 파드 관리

- **Prometheus** <br>
Spring boot 서버 Metric 수집, 서버 모니터링

- **Grafana** <br>
Prometheus에서 수집한 Metric과 Log를 시각화하여 제공

## 2-6. CICD 빌드/배포 
- **CICD 프로세스**

  ![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/1ce2f683-333c-4fc0-9310-d0671ee7843a)

<br>

<details>
<summary>Dockerfile</summary>
  

- **Spring boot Dockerfile** <br>
  - openjdk가 설치된 Dockerhub image 파일명 정의 <br>
  - image 빌드에 사용할 jar파일 정의 <br>
  - 진입 시 실행 될 명령어 정의 <br>
    - jasypt의 secretkey 를 환경 변수로 넣어서 실행
    
![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/c932225b-cabb-48de-af39-d32f0b2120d3)   
      
- **Jenkins Dockerfile** <br>

  - Jenkins가 설치된 Dockerhub image 파일명 정의 <br>
  - Jenkins 실행에 필요한 apt 명령어 정의

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/f35c7ee2-a9db-4c35-a701-59e58d0da354)


- **Jenkins docker-compose** <br>

  - 사용할 Dockerfile 지정 <br> 
  - Jenkins 컨테이너 이름과 포트 설정 <br>
  - volumes 설정으로 로컬에서 jenkins에 올라온 프로젝트 실행할 수 있도록 설정 <br> 

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/e3c9f94b-ed8d-4074-84b5-038b00d0f60f)

</details>

<details>
<summary>Github</summary>

- **Webhook & Deploy key**

  - 지정한 브랜치에 변화가 있을 경우 Webhook을 발생, Jenkins 로 Webhook 을 보낸다. <br>
  - Deploy key에는 Jenkins 서버의 public Key 를 사용, Jenkins 서버로 SSH를 통해 변경된 코드를 전송.

![github-webhook](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/ed404102-52c9-44b3-b9bc-295844ba7ce6)
![github-deploykey](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/91819a89-49a7-486e-82d3-ad1a85a50791)


</details>

<details>
<summary>Jenkins</summary>

- **Credential**
  - Github 접속을 허용하기 위해 ssh private key를 가진 Credential 생성
  - Dockerhub 접속을 위해 Dockerhub 계정 정보를 가진 Credential 생성
  
![jenkins-credential1](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/4c381c2a-0611-453c-a4e9-49c4f88a4ed9)

- **Security**
  - Github의 Jenkins 접근을 위하여 ssh private key를 포함한 Secret 정책 생성

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/660e4c3e-2c05-4f50-897f-fb7a30306a48)

- **Tools**

  - 빌드에 사용할 jdk 버전과 build tool 정의

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/ae18f3d4-454f-4650-91ea-3f7a7dc7eb7b)


- **Item(Pipeline)**

  - Github 와 연동하여 Webhook을 감지할 때 마다 테스트하고 빌드를 진행할 아이템을 정의, 생성
 
![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/56f2b83a-7ae5-4ff2-9d79-bcfd374ced97)
![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/18880b4d-673a-41d7-aa17-15fd4e63160e)
![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/831f97e0-b5b2-45df-9989-c3b93c78080a)

</details>

<details>
<summary>Kubernetes</summary>

- **Springboot Deployment**

  - ESC 프로젝트의 컨테이너 명, 컨테이너 생성에 사용할 이미지, 생성될 레플리카의 수, 컨테이너 port 지정    

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/b58bed75-86ca-4417-a80a-2c51255706a5)


- **Springboot Service**
  - 외부에서 ESC 컨테이너에 접근하기 위한 워커 노드 포트(30003) 및 service(8008)와 deployment 포트(10001) 정의 

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/7e8357e1-a434-4086-b7ff-47c174871849)


- **Prometheus Deployment**
  - Prometheus 컨테이너 명, 컨테이너 생성에 사용할 이미지, 컨테이너 port, configmap 지정  

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/75435fc1-dd89-49e1-af92-457c24f06afc)


- **Prometheus Service**
  - 외부에서 Prometheus 컨테이너에 접근하기 위한 워커 노드 포트(30005) 및 service(9009)와 deployment(9090) 포트 정의 

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/2b7bcd7a-5f45-4130-a968-b53efaa6095b)


</details>

<details>
<summary>CICD Result Image</summary>

- **Jenkins Item(pipeline) running**

![jenkis-stageview](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/a3ce927c-1407-48e5-bb53-434ab072a256)

  
- **Jenkins Image build**

![jenkins-resultlog1](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/9f622d80-dbfd-4e5c-90ff-411844b3a84a)
![jenkins-resultlog2](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/8b9dd47a-0860-4f79-b7cd-fe4367a294e9)

  
- **Kubernetes**
![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/38e105a4-963e-4cba-8388-8e4d49f96ca2)

![image](https://github.com/beyond-sw-camp/be04-4th-team4-ESC/assets/108782390/a156ac57-c6a1-459d-96df-99bd87272b65)


</details>



## 2-7. 테스트 케이스 & 결과 

<details>
<summary>테스트1 결과</summary>

</details>

<details>
<summary>테스트2 결과</summary>

</details>

<br>

# 3. 고도화 계획

## 로그인 기능


## 채팅 기능 
- 1:1 채팅방 구현
- 채팅 메세지 백엔드 처리
- 채팅방 입장/퇴장 메세지 추가

## 모니터링 
- Springboot 이외에 DB server, Vue Project, Jenkins 등 등록된 다른 서비스 모니터링 추가 

## CICD
- Jenkins에서 Dockerhub image upload 후 자동으로 Kubernetes 리롤 할 수 있도록 인프라 공부해보기 (완전 자동화 구현)

## 기타

<br>

# 4. 프로젝트 회고

| 이름 | 내용 |
| ----- | ----------|
| 백동현 |  |
| 박고은 |  |
| 이예원 |  |
| 정우진 |  |
| 정태원 |  |
